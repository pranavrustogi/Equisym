<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org"
xmlns:sec="http://www.thymeLeaf.org/thymeLeaf-extras-springsecurity3">
<head>
<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<title>Home Page</title>

    <!-- Bootstrap CSS -->
           <!--        <link rel="stylesheet" type="text/css" href="css/menu.css" /> -->
                             <link rel="stylesheet" type="text/css" href="css/mainpage.css" /> 
                <link rel="stylesheet" type="text/css" href="css/menu.css" /> 
                             
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>   
    	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" >  
  <body onbeforeunload='setDefault();'>
  

		<!-- Header -->
			<header id="header" class="alt">
			<h5><a href="index">EQUISYM</a></h5>
			
				<a href="#nav">Menu</a>
			</header>  

		<!-- Nav -->
			<nav id="nav">
				<ul class="links">
					<li><a th:href="index">Home</a></li>
					<li><a th:href="@{/}">About Us</a></li>
					<li><a th:href="@{/}">Our Gallery</a></li>
					<li><a href="partnersInfo">Santa's Knights</a></li>
					<li><a href="conductUs">Contact Us</a></li>
					<li><a href="https://www.santasknights.org/membership">Donate</a></li>
                     <li sec:authorize="isAuthenticated()"><a th:href="@{/logout}">Logout</a></li>					
				</ul>
			</nav>	 
		
	 <div th:if="${param.Created}">
				<div   style="color:green">
				
			<h5>Slot Successfully Created!! </h5>
				
				</div>
				</div>
				</div>

		<header>
		
		<div align="center" >
    
     <div th:if="${param.Created}">
				<div   style="color:green">
				
			<h5>Slot Successfully Created!! </h5>
				
				</div>
				</div>
				</div>
			
				<div align="center">
    
     <div th:if="${param.Updated}">
				<div  align="center" style="color:green">
				
			<h5>Slot Successfully Updated!! </h5>
				
				</div>
				</div>
				</div>
				<div align="center">	
    
    <div th:if="${param.Delete_Success}">
				<div  align="center" style="color:white">
				
			<h3>Slot Successfully deleted!! </h3>
				
				</div>
				</div>
			</div>	
				
	 		
				
				<div align="center">
				<div th:if="${param.Error}">
						<div   style="color:red">
						
							Slot does not created due to time overlapping.
						</div>
						</div>
				
				    </div>
			
			
			<div align="center">
				<div th:if="${param.Error2}">
						<div class= "alert alert-danger" align="center">
						<div style="color:red">
							Slot does not updated due to time overlapping.
						</div>
						</div>
				
				    </div>
			</div>
				
     </header>
  	

	<section class="showcase">
	    
	
    
    
 <!--    <div class="overlay"></div> -->
    <div class="text">
    
    
   
      <h3>Equisym </h3> 
      <h4>Shape Your Body and Mind....</h4>
     
			<form  th:action="@{./slot_index/create}" method="post" class="form-wrap" autofocus="autofocus">
			
		  	<button type="submit"  > 
				Create Slot
				</button> 
           </form>
    <br>
        
    
    <l1><form th:action="@{/slot_index/update}" method="post" class="form-wrap">
				<div th:if="${param.Fail}">
						<div class= "alert alert-danger" align="center">
						<div style="color:red">
							No Slot Found!!
						</div>
						</div>
				
				    </div>
				
				<div>
				<select hidden  style="color:black;width:370px" id="slotd" name = "slotd" class="button" onclick="Fine(this)" required  >
				<option value="" selected disabled hidden >Choose Slot to Update</option>
				<option th:each="s2: ${slist2}"
				th:value="${s2.id}" 
				th:text = "${s2.course} + ' on ' +${s2.date} + '(' + ${s2.day} + ') from ' + ${s2.timeIn} + ' till ' + ${s2.timeOut}"
				>  
				
				</option>
				
				</select>
			
				<br /><br />
				   <button type="button" style="color:green" class="fine" onclick="cool(this);toggleText();toggleText3();toggleText6();toggleText8()" id="slotd"     >Update Slot</button>	 
				       <input hidden type="submit" onclick="getValue()"  class="btn2 " id="fine" value="Proceed"/> 
				                
				</div>
			
				
	    	<script type="text/javascript">
					function getValue()
					{
						selectElement = document.querySelector('#slotd');
						return selectElement.value;
					}
				</script>   
				
				<br>


				
                   
				</form>
			</l1>
			
			<l1>
			<div th:if="${param.Fail}">
						<div class= "alert alert-danger" align="center">
						<div style="color:red">
							No Slot Found!!
						</div>
						</div>
				
				    </div>
			<form th:action="@{/slot_index/delete}" method="post" class="form-wrap" onsubmit="message()">
			
		<div>
		<select hidden style="color:black;width:370px;"  id="slot_details2" class="fine"  name = "slot_details2" onclick="free(this)"  required  > 
				<option value="" selected disabled hidden >Choose Slot to delete</option>
				<option th:each="s2: ${slist2}" 
				th:value="${s2.id}" 
				th:text = "${s2.course} + ' on ' +${s2.date} + '(' + ${s2.day} + ') from ' + ${s2.timeIn} + ' till ' + ${s2.timeOut}"> </option> 
				</select> 
				
	
							<br /><br />
    			 <button type="button" class="fine" style="color:red" onclick="toggle(this);toggleText2();toggleText4();toggleText5();toggleText7() "   >Delete Slot</button>	 
    
        <input hidden  type="submit"   name="delete-proceed"  id="check"
								class="btn1 " value="Delete"  /> 
						
					</div>
						<br>
						 
				
							</form>
							<footer id="footer" >
				
					<div align="center">
					<ul class="copyright" style="color:white">
						<li>&copy; 2015-2021 by Santa's Knights, Inc</li>
					</ul>
				</div>
							</footer>	
							
			</l1>
		</div>	
					
		<script>
				function toggleText2(){
					  var x = document.getElementById("slotd");
					  
					
					    x.style.display = "none";
					  
					}
				
					
		</script> 
				
		<script>
				function toggleText(){
					  var x = document.getElementById("slotd");
					  
					
					    x.style.display = "block";
					  
					}
		</script> 
				
		<script>
				function toggleText3(){
					  var x = document.getElementById("slot_details2");
					  
					
					    x.style.display = "none";
					  
					}
		</script> 
				
		<script>
				function toggleText4(){
					  var x = document.getElementById("slot_details2");
					  
					
					    x.style.display = "block";
					  
					}
		</script> 
		
		<script>
				function toggleText5(){
					  var x = document.getElementById("fine");
					  
					
					    x.style.display = "none";
					  
					}
		</script> 
		
		<script>
				function toggleText6(){
					  var x = document.getElementById("fine");
					  
					
					    x.style.display = "block";
					  
					}
		</script> 
		<script>
				function toggleText7(){
					  var x = document.getElementById("check");
					  
					
					    x.style.display = "block";
					  
					}
		</script> 
		<script>
				function toggleText8(){
					  var x = document.getElementById("check");
					  
					
					    x.style.display = "none";
					  
					}
		</script> 
				
				
	<script type="text/javascript">
         function message()
       {
	var result = window.confirm("Do you wish to delete this slot ?");
	if(result)
		return true;
	else
		return false;
	
     }

    </script> 
      <script type="text/javascript">
          function messages()
          {
	          var result = window.confirm("Do you wish to update this slot ?");
	     if(result)
		return true;
	      else
		return false;
         }

      </script> 
				
					
       </section>
       
       
		
       
       
 <script>
let cool = button => {
     let element = document.getElementById("slotd");
     let hidden = element.getAttribute("hidden");
    
    if(hidden) {
    	 element.setAttribute("hidden");

        button.innerText = "Update Slot";
     } else {
    	 element.removeAttribute("hidden","hidden");
        button.innerText = "Update Slot";
     }
  }
</script> 



   <script>
  let toggle = button => {
     let element = document.getElementById("slot_details2");
     let hidden = element.getAttribute("hidden");

     if (hidden) {
    	 element.setAttribute("hidden");

         button.innerText = "Delete Slot";
    	 
      
     } else {
    	 element.removeAttribute("hidden","hidden");

         button.innerText = "Delete Slot";

     }
    
    
  }
</script> 

 <script>
  let free = button => {
     let element = document.getElementById("check");
     let hidden = element.getAttribute("hidden");

     if (hidden) {
    	 element.setAttribute("hidden");

    	 
      
     } else {
    	 element.removeAttribute("hidden","hidden");


     }
    
    
  }
</script> 
 
  <script>
  let Fine = button => {
     let element = document.getElementById("fine");
     let hidden = element.getAttribute("hidden");

     if (hidden) {
    	 element.setAttribute("hidden");

    	 
      
     } else {
    	 element.removeAttribute("hidden","hidden");


     }
    
    
  }
</script> 

<script>
let chill = button => {
     let element = document.getElementById("slotd");
     let hidden = element.getAttribute("hidden");
	 element.setAttribute("hidden");

  }
</script> 


<script type="text/javascript">
    var elems = document.getElementsByClassName('btn1');
    var confirmIt = function (e) {
        if (!confirm('Are you sure?')) e.preventDefault();
    };
    for (var i = 0, l = elems.length; i < l; i++) {
        elems[i].addEventListener('click', confirmIt, false);
    }
</script>
 
<!-- Scripts -->
			<script src="/js/jquery.min.js"></script>
			<script src="/js/skel.min.js"></script>
			<script src="/js/util.js"></script>
			<!--[if lte IE 8]><script src="/js/ie/respond.min.js"></script><![endif]-->
			<script src="/js/main.js"></script>
	
</body>
</html>